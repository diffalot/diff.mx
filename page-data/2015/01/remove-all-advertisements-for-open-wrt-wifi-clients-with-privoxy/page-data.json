{"componentChunkName":"component---src-components-post-jsx","path":"/2015/01/remove-all-advertisements-for-open-wrt-wifi-clients-with-privoxy/","result":{"data":{"mdx":{"id":"6a4b16fb-9cea-5ecc-8768-466846d84cda","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"layout\": \"post\",\n  \"title\": \"Remove All Advertisements for OpenWRT wifi clients with Privoxy\",\n  \"date\": \"2015-01-29T12:00:00.000Z\",\n  \"categories\": [\"administration\"],\n  \"tags\": [\"openwrt\", \"privoxy\", \"adblock\", \"do not track\", \"advertising\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.privoxy.org/\",\n    \"rel\": \"external\"\n  }), \"Privoxy\"), \" is an ad removing proxy that disallows your\\nweb browser from accessing content located on ad networks for both ad display\\nand browser tracking. Normal setup involves changing your web browser\\u2019s proxy\\nsettings to point to privoxy on port 8118, but it can be installed on routers\\nlike OpenWRT to transparently block all advertising for all clients connecting\\nto the internet through that router.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"The following setup for OpenWRT only works on HTTP request through port 80,\\nHTTPS requests through port 443 will not be intercepted.\")), mdx(\"h2\", {\n    \"id\": \"install-privoxy-on-openwrt\",\n    \"style\": {\n      \"position\": \"relative\"\n    },\n    \"className\": \"font-sans font-black\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#install-privoxy-on-openwrt\",\n    \"aria-label\": \"install privoxy on openwrt permalink\",\n    \"className\": \"header-anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Install Privoxy on Openwrt\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"opkginstall privoxy\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"language-opkginstall privoxy\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-opkginstall privoxy\"\n  })))), mdx(\"h2\", {\n    \"id\": \"edit-code-classlanguage-textetcprivoxyconfigcode\",\n    \"style\": {\n      \"position\": \"relative\"\n    },\n    \"className\": \"font-sans font-black\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#edit-code-classlanguage-textetcprivoxyconfigcode\",\n    \"aria-label\": \"edit code classlanguage textetcprivoxyconfigcode permalink\",\n    \"className\": \"header-anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"edit \", mdx(\"code\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"/etc/privoxy/config\")), mdx(\"p\", null, \"the important setting is allowing Privoxy to intercept traffic\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"accept-intercepted-requests1\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"language-accept-intercepted-requests1\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-accept-intercepted-requests1\"\n  })))), mdx(\"p\", null, \"setting the \", mdx(\"code\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"lan\"), \" ip address of the router as the listening port is optional\\n(this allows clients to manually set the proxy in the browser while connected\\nthrough your router so that even HTTPS requests are intercepted).\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"listen-address$router_lan_ip:8118\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"language-listen-address$router_lan_ip:8118\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-listen-address$router_lan_ip:8118\"\n  }), \"permit-access $FIRST_THREE_OCTETS_OF_LAN_IP.0/24\"))), mdx(\"h2\", {\n    \"id\": \"setup-privoxy-to-start-on-boot\",\n    \"style\": {\n      \"position\": \"relative\"\n    },\n    \"className\": \"font-sans font-black\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#setup-privoxy-to-start-on-boot\",\n    \"aria-label\": \"setup privoxy to start on boot permalink\",\n    \"className\": \"header-anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"setup privoxy to start on boot\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"/etc/init.d/privoxyenable\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"language-/etc/init.d/privoxyenable\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-/etc/init.d/privoxyenable\"\n  }), \"/etc/init.d/privoxy start\"))), mdx(\"h2\", {\n    \"id\": \"edit-code-classlanguage-textetcconfigfirewallcode\",\n    \"style\": {\n      \"position\": \"relative\"\n    },\n    \"className\": \"font-sans font-black\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#edit-code-classlanguage-textetcconfigfirewallcode\",\n    \"aria-label\": \"edit code classlanguage textetcconfigfirewallcode permalink\",\n    \"className\": \"header-anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"edit \", mdx(\"code\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"/etc/config/firewall\")), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"configredirect\"\n  }, mdx(\"pre\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"language-configredirect\"\n  }), mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-configredirect\"\n  }), \"        option src              lan\\n        option proto            tcp\\n        option src_dport        80\\n        option dest_ip          $ROUTER_LAN_IP\\n        option dest             lan\\n        option dest_port        8118\"))), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"References:\"), mdx(\"ul\", {\n    parentName: \"blockquote\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://sourceforge.net/p/ijbswa/support-requests/1576/\",\n    \"rel\": \"external\"\n  }), \"a sourceforge\\nticket\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://wiki.openwrt.org/doc/howto/proxy.privoxy\",\n    \"rel\": \"external\"\n  }), \"the openwrt wiki\")))));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Remove All Advertisements for OpenWRT wifi clients with Privoxy"},"parent":{"__typename":"File","id":"ddacdd3f-ae4e-50c4-9512-1f0c47657a88","relativePath":"2015-01-29-privoxy-http-interception.md"}}},"pageContext":{"id":"6a4b16fb-9cea-5ecc-8768-466846d84cda"}},"staticQueryHashes":["267843117","3128451518","3128451518"]}